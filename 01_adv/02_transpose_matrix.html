<html>
  <script>
/*
Write a function that takes an array of arrays representing a 3x3 matrix, and returns the transpose of the matrix. You should implement the function on your own, without using any external libraries.

Take care not to modify the original matrix â€” your function must produce a new matrix and leave the input matrix array unchanged.

Examples:
*/

function transpose(matrix) {
  var result = [...Array(3).keys()].map(emptyArray);

  matrix.forEach(function (array, oldRow) {
    array.forEach(function(element, oldColumn) {
      result[oldColumn][oldRow] = matrix[oldRow][oldColumn];
    })
  })

  return result;
}

function emptyArray() {
  return [];
}

var matrix = [
  [1, 5, 8],
  [4, 7, 2],
  [3, 9, 6]
];

var newMatrix = transpose(matrix);

console.log(newMatrix);      // [[1, 4, 3],
                            //   [5, 7, 9],
                            //   [8, 2, 6]]

console.log(matrix);         // [[1, 5, 8], [4, 7, 2], [3, 9, 6]]
console.log(transpose(newMatrix));
  </script>
</html>
